<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/d3-collection.v1.min.js"></script>
    <script src="https://unpkg.com/d3-simple-slider"></script>
    <script type="text/javascript" src="scripts/figures.js"></script>
    <script type="text/javascript" src="scripts/utilities.js"></script>
    <link rel="stylesheet" href="style/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Overpass:wght@200;400;600&display=swap">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <main>
        <section id="header">
            <h1>Simulating Actin Compression</h1>
            <h2>
                Comparing simulations of actin filament bending and twisting reveals tradeoff between
                computational cost and capturing detailed behaviors
            </h2>
            <p class="todo">
                [TODO: add authors and link to paper]
            </p>
        </section>

        <div class="chunk">
            <div class="left">
                <h3>
                    X
                </h3>
                <p>
                    X
                </p>

                <p class="instructions">
                    X
                </p>
                <p class="todo">
                    [TODO: draft content]
                </p>
            </div>
            <div class="right">
                <p class="caption">
                    x
                </p>
                <div class="inputs" id="velocity">
                    <h4>Compression velocity</h4>
                    <label class="container">
                        <input type="radio" name="velocity" id="velocity_0047" onclick="generate_compression_metrics()" checked />
                        4.7 &#181;m/s
                        <span class="input radio"></span>
                    </label>
                    <label class="container">
                        <input type="radio" name="velocity" id="velocity_0150" onclick="generate_compression_metrics()" />
                        15 &#181;m/s
                        <span class="input radio"></span>
                    </label>
                    <label class="container">
                        <input type="radio" name="velocity" id="velocity_0470" onclick="generate_compression_metrics()" />
                        47 &#181;m/s
                        <span class="input radio"></span>
                    </label>
                    <label class="container">
                        <input type="radio" name="velocity" id="velocity_1500" onclick="generate_compression_metrics()" />
                        150 &#181;m/s
                        <span class="input radio"></span>
                    </label>
                </div>
                <div class="inputs" id="metric">
                    <h4>Compression metric</h4>
                    <label class="container">
                        <input type="radio" name="metric" id="metric_twist_angle" onclick="generate_compression_metrics()" checked />
                        Supertwist angle
                        <span class="input radio"></span>
                    </label>
                    <label class="container">
                        <input type="radio" name="metric" id="metric_non_coplanarity" onclick="generate_compression_metrics()" />
                        Non-coplanarity
                        <span class="input radio"></span>
                    </label>
                    <label class="container">
                        <input type="radio" name="metric" id="metric_compression_ratio" onclick="generate_compression_metrics()" />
                        Compression ratio
                        <span class="input radio"></span>
                    </label>
                    <label class="container">
                        <input type="radio" name="metric" id="metric_peak_asymmetry" onclick="generate_compression_metrics()" />
                        Peak asymmetry
                        <span class="input radio"></span>
                    </label>
                    <label class="container">
                        <input type="radio" name="metric" id="metric_contour_length" onclick="generate_compression_metrics()" />
                        Contour length
                        <span class="input radio"></span>
                    </label>
                </div>
                <div class="centered">
                    <div id="compression_metrics"></div>
                </div>
                <script>
                    generate_compression_metrics()
                </script>
            </div>
        </div>

        <section id="content">
            <div class="chunk">
                <div class="left">
                    <h3>
                        Our quantitative analysis revealed a divergence particularly in terms of non-coplanarity.
                    </h3>
                    <p>
                        ReaDDy actin filaments showed high non-coplanarity in one direction, especially in filaments simulated at higher compression velocities.
                        Cytosim filaments showed very little out-of-plane behavior at any compression velocities, and when they did, it was just as likely to be in either direction.
                    </p>
                    <p class="instructions">
                        Explore examples of trajectories with different final time points.
                    </p>
                </div>
                <div class="right">
                    <p class="caption">
                        Trajectories of filaments in PC space for each simulator, velocity, and replicate. The start or end of each trajectory is marked by a diamond or circle, respectively.
                    </p>
                    <div class="inputs" id="feature">
                        <h4>Feature</h4>
                        <label class="container">
                            <input type="radio" name="feature" id="feature_simulator" onclick="generate_pca_trajectories_or_features()" checked />
                            Simulator trajectories
                            <span class="input radio"></span>
                        </label>
                        <label class="container">
                            <input type="radio" name="feature" id="feature_compression_ratio" onclick="generate_pca_trajectories_or_features()" />
                            Compression ratio
                            <span class="input radio"></span>
                        </label>
                        <label class="container">
                            <input type="radio" name="feature" id="feature_velocity" onclick="generate_pca_trajectories_or_features()" />
                            Compression velocity
                            <span class="input radio"></span>
                        </label>
                        <label class="container">
                            <input type="radio" name="feature" id="feature_twist_angle" onclick="generate_pca_trajectories_or_features()" />
                            Supertwist angle
                            <span class="input radio"></span>
                        </label>
                        <label class="container">
                            <input type="radio" name="feature" id="feature_non_coplanarity" onclick="generate_pca_trajectories_or_features()" />
                            Non-coplanarity
                            <span class="input radio"></span>
                        </label>
                        <label class="container">
                            <input type="radio" name="feature" id="feature_peak_asymmetry" onclick="generate_pca_trajectories_or_features()" />
                            Peak asymmetry
                            <span class="input radio"></span>
                        </label>
                    </div>
                    <div class="centered">
                        <div id="pca_trajectories_or_features"></div>
                    </div>
                    <script>generate_pca_trajectories_or_features()</script>
                </div>
            </div>

            <div class="chunk">
                <div class="left">
                    <h3>
                        Monomer-scale simulations captured characteristics of helical structure more effectively than fiber-scale simulations.
                    </h3>
                    <p>
                        Inverse PCA transforms of the filament shapes confirmed that PC1 captured filament compression and peak asymmetry, while PC2 scaled with filament non-coplanarity and twist. Inverse transforms also revealed that low values of PC2 correspond to twist in the opposite direction. Some Cytosim simulations show this behavior, likely because directional helicity is not enforced in Cytosim.
                    </p>
                    <p class="instructions">
                        Explore examples of trajectories with different final time points.
                    </p>
                </div>
                <div class="right">
                    <p class="caption">
                        Latent walks for filament shape along PC 1 and PC 2.
                    </p>
                    <div class="inputs" id="component">
                        <h4>Principal component</h4>
                        <label class="container">
                            <input type="radio" name="component" id="component_PCA1" onclick="generate_pca_transform()" checked />PC 1
                            <span class="input radio"></span>
                        </label>
                        <label class="container">
                            <input type="radio" name="component" id="component_PCA2" onclick="generate_pca_transform()" />PC 2
                            <span class="input radio"></span>
                        </label>
                    </div>
                    <div class="centered">
                        <div id="pca_transform"></div>
                        <div id="pca_transform_slider"></div>
                    </div>
                    <script>generate_pca_transform()</script>

                    <div class="wrap" style="flex-wrap: nowrap;">
                        <div class="iframe" style="width:49%;">
                            <div class="placeholder-16-9"></div> 
                            <iframe
                                src="https://simularium.allencell.org/embed?trajUrl=https://subcell-working-bucket.s3.us-west-2.amazonaws.com/actin_compression_pca/actin_compression_pca_time_pc1.simularium" 
                                frameborder="0" allowfullscreen>
                            </iframe>
                        </div>
                        <div class="iframe" style="width:49%;">
                            <div class="placeholder-16-9"></div>
                            <iframe
                                src="https://simularium.allencell.org/embed?trajUrl=https://subcell-working-bucket.s3.us-west-2.amazonaws.com/actin_compression_pca/actin_compression_pca_time_pc2.simularium" 
                                frameborder="0" allowfullscreen>
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>

        </section>

        <div class="center-container">
            <div class="center">
                <a href="index.html"><button class="back_btn" type="button">Back to Intro</button></a>
            </div>
        </div>

        <section id="footer">
            <p id="schoneberg_2013_readdy">[1] Schöneberg J and Noé F. ReaDDy-a software for particle-based reaction-diffusion dynamics in crowded cellular environments. <em>PloS ONE</em>, <strong>8</strong>(9):e74261, 2013.</p>
            <p id="nedelec_2007_collective">[2] Nedelec F and Foethke D. Collective Langevin dynamics of flexible cytoskeletal fibers. <em>New Journal of Physics</em>, <strong>9</strong>(11):427, 2007.</p>
        </section>
    </main>
</body>

</html>
